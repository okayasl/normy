[workspace]
members = [
    ".",                 # Assumes your main `normy` crate is in the root directory
    "normy-lang-macros",
]

[package]
name = "normy"
version = "0.1.0"
edition = "2024"

[dependencies]
# ðŸ’¡ NEW: Dependency on the procedural macro crate
normy-lang-macros = { path = "./normy-lang-macros" }
thiserror = "2.0.17"
rand = "0.9.2"
memchr = "2.7.6"
html-escape = "0.2.13"
paste = "1.0.15"
phf = { version = "0.13.1", features = ["macros"] }
pulldown-cmark = { version = "0.13", default-features = false }
unicode-normalization = "0.1.25"
simdutf8 = { version = "0.1.5", optional = true }
smallvec = "1.15.1"

[dev-dependencies]
proptest = "1.9.0"
criterion = { version = "0.7.0", features = ["html_reports", "plotters"] }
unidecode = "0.3.0"

[[bench]]
name = "normy_bench"
harness = false

[[bench]]
name = "stage_bench"
harness = false

[features]
default = ["simd"]
simd = ["simdutf8"]
ascii-fast = []

[profile.release]
lto = "fat"
codegen-units = 1
panic = "abort"
opt-level = "s"   # or "z" if binary size matters more than last 3%
