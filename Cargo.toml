[package]
name = "normy"
version = "0.1.0"
edition = "2024"

[dependencies]
html-escape = "0.2.13"
memchr = "2.7.6"
paste = "1.0.15"
phf = { version = "0.13.1", features = ["macros"] }
pulldown-cmark = { version = "0.13", default-features = false }
rand = "0.9.2"
simdutf8 = { version = "0.1.5", optional = true }
smallvec = "1.15.1"
thiserror = "2.0.17"
unicode-normalization = "0.1.25"

[dev-dependencies]
proptest = "1.9.0"
criterion = { version = "0.7.0", features = ["html_reports", "plotters"] }
# pyo3 = { version = "0.27.1", features = ["extension-module"] }
# tracing = "0.1.43"
# tracing-subscriber = { version = "0.3.22", features = ["env-filter"] }
unidecode = "0.3.0"

[[bench]]
name = "normy_bench"
harness = false      # Criterion's custom harness

[features]
default = ["simd"]
simd = ["simdutf8"]
ascii-fast = []

[profile.release]
lto = "fat"
codegen-units = 1
panic = "abort"
opt-level = "s"   # or "z" if binary size matters more than last 3%
